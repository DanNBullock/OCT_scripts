%% Begin Wrapper script



%% generate primary data derivative
%directory containing data from device?
rawSubjDataDir = '/N/u/dnbulloc/Carbonate/OCT_Data/Data';
%directory to output layer-parsed output
targetOutputDir='/N/u/dnbulloc/Carbonate/OCT_Data/PrimaryData';
%these are the layers we want to analyse with the associated names
%These are specified by user
layerIndexSequences={1:7,1:4,5,6};
%Is there a better way to obtanin thse?
%these are the given layer combination names
analysesNames={'TT','NL','ONL','PROS'};

createCSVsumOutputFiles(rawSubjDataDir,targetOutputDir,layerIndexSequences,analysesNames)

%% create iterative, subject level means
%path to output subject+layer level analysis to
analysisMeanDir='/N/u/dnbulloc/Carbonate/OCT_Data/subjectLayerAnalyses';
%path to file specifying centroid data
centroidCSVPath='/N/u/dnbulloc/Carbonate/OCT_Data/Location/Location.csv';
%visual field width in degrees, i.e. diameter of visual field measured
%currently specified by user, but maybe there is a better way to infer this
%from the centroid csv data?
visFieldDiam=20;
%
analyzeOCTDataWrapper(targetOutputDir,analysisMeanDir,centroidCSVPath,, 'full')



%group summary statistics
%I think here we aer just getting group membership, yes?
groupKeyDir='/N/u/dnbulloc/Carbonate/OCT_Data/Groups'

groupDirContents = dir(GroupDir);
fileNames = {groupDirContents(~[groupDirContents(:).isdir]).name};

% where the output from this is going.
% I don't understand why we have both <GroupDir> and <groupDir>.  Maybe harmonize?

groupAnalysisDir='/N/u/dnbulloc/Carbonate/OCT_Data/GroupAnalysis/';










OCTGroupAnalysisWrapper(inputDir,groupKeyDir,outputDir)
